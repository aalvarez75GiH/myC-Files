#include <iostream>
#include<fstream>
#include<string>
#include<sstream>

using namespace std;

//array y for

void drawMap(int heroPosX,int heroPosY,char gameMap[40][40]){


for (int y=0;y<20;y++){
	
	for (int x=0;x<40;x++)
	{
		 if (y != heroPosY){
        	 cout<<gameMap[x][y];
		 }
		  
		 else
		 {
                 	 if (x != heroPosX){
                   	 cout<<gameMap[x][y];
			 }
			 else{
			 cout<<'3';
			 
			 }

		 }
		 
		 
        }

cout<<endl;  
}


}




int main()
{
char input = ' ';
int heroPosX=0;
int heroPosY=0;
int PosXg;
int PosYg;
//ofstream myMap("myMap.txt");

char gameMap[40][40]={{'1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'},
                      {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                      {'0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'},
                      {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                      {'1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'},
                      {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                      {'0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'},
                      {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                      {'1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'},
                      {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                      {'0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'},
                      {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                      {'1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'},
                      {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                      {'0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'},
                      {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                      {'1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'},
                      {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                      {'0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'},
                      {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                      {'1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'},
                      {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                      {'0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'},
                      {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                      {'1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'},
                      {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                      {'0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'},
                      {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                      {'1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'},
                      {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                      {'0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'},
                      {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                      {'1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'},
                      {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                      {'0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'},
                      {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                      {'1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'},
                      {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
		      {'0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'},
                      {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '}};
		      
//----------------------------------------------------
//Proceso con archivo

 ofstream myMap("myMap.txt");
//                 	  if (myMap.is_open()){
  //               	  for(int f=0;f<40;f++)
//			  {
//			  myMap << gameMap[x][y];
//			  }

bool isGameOver = false;
drawMap(heroPosX,heroPosY,gameMap);
char saveG;
cout<<"Do you wanna continue a Saved Game (y/n) "<<endl;
cin>>saveG;
if (saveG == 'n'){
while (isGameOver == false){
cout<<"(R)ight,(L)eft,(U)p,(D)own,(S)ave(Q)uit"<<endl;
cin>>input;

if (input == 'r'){
      heroPosX = heroPosX + 2;
      heroPosY = heroPosY + 0;
}
else if (input == 'l'){
        heroPosX = heroPosX - 2;
	heroPosY = heroPosY - 0;
}else if (input == 'd'){
        heroPosX = heroPosX + 0;
	heroPosY = heroPosY + 1;
}else if (input == 'u'){
        heroPosX = heroPosX + 0;
	heroPosY = heroPosY - 1;
} else if (input == 's'){
          ofstream myMap("myMap.txt");
          if (myMap.is_open()){
          PosXg = heroPosX;
	  PosYg = heroPosY;
          myMap<<PosXg<<endl;
	  myMap<<PosYg<<endl;
          //myMap<<"Prueba1"<<endl;
	  }
	  myMap.close();
	//heroPosX = heroPosX + 0;
	//heroPosY = heroPosY - 1;
} 
else if (input == 'q'){
       isGameOver = true;
}
      else{
      cout<<"No se reconoce Movimiento..."<<endl;
      }
drawMap(heroPosX,heroPosY,gameMap);
}
}
else { //del if nuevo
//---------------------------------------------------------
string line;
int renglon = 0;
string PosXr;
string PosYr;

        ifstream myMapR("myMap.txt");
        if (myMapR.is_open())
	{
		getline(myMapR,line);
		if (renglon == 0)
		{
		PosXr = line;
		
		}
		renglon = renglon + 1;
		
		//getline(myMapR,line);
		if (renglon ==1)
		{
		PosYr = line;
		
		}
		
		cout<<PosXr<<endl;
		cout<<PosYr<<endl;
	}else{
                
        cout<<"No se pudo abrir el archivo"<<endl;
	//drawMap(PosXr,PosYr,gameMap);
        }

//---------------------------------------------------------

}
return 0;
}
